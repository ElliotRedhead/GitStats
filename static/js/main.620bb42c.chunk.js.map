{"version":3,"sources":["utilities/ScrollVh.js","components/fetch.js","App.js","index.js"],"names":["ScrollVh","window","scrollTo","top","innerHeight","behavior","GitCommits","useState","githubUserInput","setGithubUserInput","repoOptions","setRepoOptions","selectedRepo","setSelectedRepo","branchOptions","setBranchOptions","selectedBranch","setSelectedBranch","repoCommits","setCommits","Grid","container","direction","alignItems","item","xs","md","lg","justify","style","minHeight","Paper","elevation","paddingTop","paddingBottom","minWidth","spacing","sm","TextField","type","label","variant","value","onChange","event","target","Button","color","onClick","fetch","then","response","json","results","Select","MenuItem","disabled","map","data","index","key","name","forEach","latestCommitSha","commit","sha","commitsList","oldestCommitShas","commitObjects","push","oldestCommitIndex","length","oldestCommitSha","nextPageCommitFetch","shift","console","log","App","path","render","document","getElementById"],"mappings":"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","file":"static/js/main.620bb42c.chunk.js","sourcesContent":["const ScrollVh = () => {\n  window.scrollTo({ top:window.innerHeight, behavior:\"smooth\" });\n};\n\nexport default ScrollVh;","import React, {useState} from \"react\";\nimport { TextField, Button, Select, MenuItem, Grid, Paper, Slide } from \"@material-ui/core\";\nimport ScrollVh from \"../utilities/ScrollVh\";\nimport \"../styles/main.scss\";\n\nconst GitCommits = () => {\n\n  const [githubUserInput, setGithubUserInput] = useState(\"ElliotRedhead\");\n\n  const [repoOptions, setRepoOptions] = useState();\n  const [selectedRepo, setSelectedRepo] = useState(\"\");\n\n  const [branchOptions, setBranchOptions] = useState();\n  const [selectedBranch, setSelectedBranch] = useState();\n\n  const [repoCommits, setCommits] = useState();\n\n  const githubUserFetch = () => {\n    fetch(`https://api.github.com/users/${githubUserInput}/repos`)\n      .then(response => response.json())\n      .then(\n        (results) => {\n          // console.log(results);\n          setRepoOptions(results);\n        }\n      );\n  };\n\n  const repoBranchFetch = () => {\n    fetch(`https://api.github.com/repos/${githubUserInput}/${selectedRepo}/branches?per_page=100`)\n      .then(response => response.json())\n      .then(\n        (results) => {\n          // console.log(results);\n          setBranchOptions(results);\n        }\n      );\n  };\n\n  const branchCommitFetch = () => {\n    branchOptions.forEach((data) => {\n      const latestCommitSha = data.name === selectedBranch && data.commit.sha;\n      if (latestCommitSha) {\n        fetch(`https://api.github.com/repos/${githubUserInput}/${selectedRepo}/commits?per_page=100&sha=${latestCommitSha}`)\n          .then(response => response.json())\n          .then(\n            (results) => {\n              // console.log(results);\n\n\n              const commitsList = [];\n              const oldestCommitShas = [];\n              \n              let commitObjects = results;\n              commitsList.push(...commitObjects);\n              let oldestCommitIndex = commitObjects.length - 1;\n              let oldestCommitSha = (commitObjects[oldestCommitIndex]).sha;\n              oldestCommitShas.push(oldestCommitSha);\n              \n\n              const nextPageCommitFetch = () => {\n                oldestCommitSha = oldestCommitShas[oldestCommitShas.length-1];\n                \n                fetch(`https://api.github.com/repos/${githubUserInput}/${selectedRepo}/commits?per_page=100&sha=${oldestCommitSha}`)\n                  .then(response => response.json())\n                  .then(\n                    (results) => {\n                      commitObjects = results;\n                      oldestCommitIndex = commitObjects.length - 1;\n                      oldestCommitSha = (commitObjects[oldestCommitIndex]).sha;\n                      oldestCommitShas.push(oldestCommitSha);\n                      // console.log(results);\n                      if (oldestCommitShas[oldestCommitShas.length-1] !== oldestCommitShas[oldestCommitShas.length-2] || oldestCommitShas.length < 2) {\n                        // What would happen if repo has one page of commits equal to exactly 100?\n                        commitObjects.shift();\n                        commitsList.push(...commitObjects);\n                        nextPageCommitFetch();\n                      } else {\n                        setCommits(commitsList);\n                        ScrollVh();\n                      }\n                    }\n                  );\n              };\n\n              nextPageCommitFetch();\n              console.log(commitsList);\n\n\n            });\n      }\n    });};\n\n  return (\n    <>\n      <Grid container\n        direction=\"column\"\n        // justify=\"center\"\n        alignItems=\"center\">\n        <Grid item container\n          xs={12} md={10} lg={8}\n          direction=\"column\"\n          alignItems=\"center\"\n          justify=\"center\"\n          style={{minHeight:\"100vh\"}}>\n          <Paper\n            elevation={10}\n            style={{\n              paddingTop: \"6rem\",\n              paddingBottom: \"6rem\",\n              minWidth:\"60vw\"}}\n          >\n            <Grid container\n              direction=\"column\"\n              spacing={8}\n              alignItems=\"center\"\n              justify=\"center\"\n\n            >\n              <Grid item xs={12} sm={10} lg={8} container\n                alignItems=\"center\"\n                spacing={2}>\n                <Grid item xs={12} md={8}>\n                  <TextField\n                    type=\"text\"\n                    label=\"GitHub Username\"\n                    variant=\"filled\"\n                    value={githubUserInput}\n                    onChange={event => setGithubUserInput(event.target.value)}\n                  />\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <Button variant=\"contained\"\n                    color=\"primary\"\n                    onClick={githubUserFetch}>\n        Fetch Repos for User\n                  </Button>\n                </Grid>\n              </Grid>\n\n              {repoOptions ?\n                <>\n                  <Grid item xs={12} sm={10} lg={8} container\n                    alignItems=\"center\"\n                    spacing={2}>\n                    <Grid item xs={12} md={8}>\n                      <Select\n                        onChange={event => setSelectedRepo(event.target.value)}\n                        value={selectedRepo ? selectedRepo : \"None\"}>\n                        <MenuItem value=\"None\" disabled>None</MenuItem>\n                        {repoOptions.map((data,index) => (\n                          <MenuItem key={index} value={data.name}>{data.name}</MenuItem>\n                        ))\n                        }\n                      </Select>\n                    </Grid>\n                    <Grid item xs={12} md={4}>\n                      <Button variant=\"contained\"\n                        color=\"primary\"\n                        onClick={repoBranchFetch}>\n              Fetch Branches for Selected Repo\n                      </Button>\n                    </Grid>\n                  </Grid>\n                </>\n                : null\n              }\n\n              {branchOptions ?\n                <>\n                  <Grid item xs={12} sm={10} lg={8} container\n                    alignItems=\"center\"\n                    spacing={2}>\n                    <Grid item xs={12} md={8}>\n                      <Select\n                        onChange={event => setSelectedBranch(event.target.value)}\n                        value={selectedBranch ? selectedBranch : \"None\"}>\n                        <MenuItem value=\"None\" disabled>None</MenuItem>\n                        {branchOptions.map((data,index) => (\n                          <MenuItem key={index} value={data.name}>{data.name}</MenuItem>\n                        ))}\n                      </Select>\n                    </Grid>\n                    <Grid item xs={12} md={4}>\n                      <Button variant=\"contained\"\n                        color=\"primary\"\n                        onClick={branchCommitFetch}>\n              Fetch Commits for Selected Branch\n                      </Button>\n                    </Grid>\n                  </Grid>\n                </>\n                : null\n              }\n            </Grid>\n          </Paper>\n        </Grid>\n        {repoCommits ?\n          <>\n            <Grid item container\n              xs={12} md={10} lg={8}\n              direction=\"column\"\n              alignItems=\"center\"\n              justify=\"center\"\n              style={{minHeight:\"100vh\"}}>\n              <Paper\n                elevation={10}\n                style={{minHeight:\"50vh\"}}>\n              </Paper>\n            </Grid>\n          </>\n          : null }\n      </Grid>\n\n    </>\n  );\n\n};\n\nexport default GitCommits;","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport GitCommits from \"./components/fetch\";\n\n\nconst App = () => {\n  \n  return (\n    <>\n      <Switch>\n        <Route path={\"/\"}>\n          <GitCommits />\n        </Route> \n      </Switch>\n    </>\n  );\n};\n\nexport default App;","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\n\nrender(<Router>\n  <App />\n</Router>,\ndocument.getElementById(\"root\")\n);"],"sourceRoot":""}